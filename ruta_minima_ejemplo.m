%% problema ruta más corta ejemplo 1:
% % Modelo:
% min Z = x12 + 3x13 + 6x15 + x23 + 5x25 + 2x34 + 4x36 + x35 + 2x46 + 3x48 + 5x57 + 3x56 + x67 + 2x68 + 2x78
% s.t:
% x12 + x15 + x13 = 1             (1)     -x25 -x15 -x35 + x56 + x57 = 0  (5)          
% -x12 + x23 + x25 = 0            (2)     -x36 -x46 -x56 + x67 + x68 = 0  (6) 
% -x13 -x23 + x35 + x34 + x36 = 0 (3)     -x57 -x67 + x78 = 0             (7)
% -x34 +x46 + x48 = 0             (4)     -x48 - x68 + x78 = -1           (8)
%% Resolucion:
f =[ 1  3  6  1  5  2  4  1  2  3  5  3  1  2  2 ];
%  x12  x13  x15  x23  x25  x34  x36  x35  x46  x48  x57  x56  x67  x68  x78

Aeq=[1     1    1    0    0    0    0    0    0    0    0    0    0    0    0 %nodo1
    -1     0    0    1    1    0    0    0    0    0    0    0    0    0    0 %nodo2
     0    -1    0   -1    0    1    1    1    0    0    0    0    0    0    0 %nodo3
     0     0    0    0    0   -1    0    0    1    1    0    0    0    0    0 %nodo4
     0     0   -1    0   -1    0    0   -1    0    0    1    1    0    0    0 %nodo5
     0     0    0    0    0    0   -1    0   -1    0    0   -1    1    1    0 %nodo6
     0     0    0    0    0    0    0    0    0    0   -1    0   -1    0    1 %nodo7
     0     0    0    0    0    0    0    0    0   -1    0    0    0   -1    1 %nodo8
   ];
beq = [1;0;0;0;0;0;0;-1];

ub = ones(15,1);
lb = zeros(15,1);
intcon = [1:15];

[x,fval] = intlinprog(f,intcon,[],[],Aeq,beq,lb,ub)
%% Solución:
% x =
%      1
%      0
%      0
%      1
%      0
%      1
%      0
%      0
%      0
%      1
%      0
%      0
%      0
%      0
%      0
% 
% fval =
%      7