%% Ejercicio Seervada park problema de ruta más corta 4/4/2016
% Modelo:
% min Z = 2x12 + 5x13 + 4x14 + 2x23 + 7x25 + 2x32 + 1x34 + 4x35 + 3x36 + 1x43 + 4x46 + 5x57 + 1x56 + 1x65 + 7x67
%  s.t:
%  1 --> x12 + x13 + x14 = 1                              4 --> -x14 -x34 +x43 + x46 = 0
%  2 --> -x12 -x32 + x23 + x25 = 0                        5 --> -x25 -x35 -x65 + x56 + x57 = 0
%  3 --> -x13 -x23 + x32 + x34 + x34 + x35 + x36 -x43 = 0 6 --> -x36 - x46 -x56 + x65 + x67 = 0
%  7 --> -x57 - x67 = -1
%% Resolución
% x12  x13  x14  x23  x25  x32  x34  x35  x36  x43  x46  x57  x56  x65  x67

f=[2   5     4    2    7    2    1    4    3    1    4    5    1    1    7];

Aeq=[1  1    1    0    0    0    0    0    0    0    0    0    0    0    0 %1
    -1  0    0    1    1   -1    0    0    0    0    0    0    0    0    0 %2
     0 -1    0   -1    0    1    1    1    1   -1    0    0    0    0    0 %3
     0  0   -1    0    0    0   -1    0    0    1    1    0    0    0    0 %4
     0  0    0    0   -1    0    0   -1    0    0    0    1    1   -1    0 %5
     0  0    0    0    0    0    0    0   -1    0   -1    0   -1    1    1 %6
     0  0    0    0    0    0    0    0    0    0    0   -1    0    0   -1 ];%7
 
beq = [1; 0; 0; 0; 0; 0; -1];

lb = zeros(15,1);
ub = ones(15,1);
intcon = [1:15];

[x,fval] = intlinprog(f,intcon,[],[],Aeq,beq,lb,ub)
%% Solucion
% x =
% 
%      1
%      0
%      0
%      1
%      0
%      0
%      0
%      1
%      0
%      0
%      0
%      1
%      0
%      0
%      0
% 
% fval =
%     13