%% Problema de asignacion: Job Shop CO. 14/3/2016
%% Modelo:
%     min Z = 13x11 + 16x12 + 12x13 + 11x14 + 15x21 + Mx22 + 13x23 + 20x24
%             + 5x31 + 7x32 + 10x33 + 6x34
%             
%     x11 + x12 + x13 + x14 = 1       x11 + x21 + x31 <= 1
%     x21 + x22 + x23 + x23 = 1       x12 + x22 + x32 <= 1    
%     x31 + x32 + x33 + x34 = 1       x13 + x23 + x33 <= 1
%                                     x14 + x24 + x34 <= 1
%% Resolución:
M = 999;
f=[13 16 12 11 15 M 13 20 5 7 10 6];

Aeq =[1 1 1 1   0 0 0 0     0 0 0 0; 
      0 0 0 0   1 1 1 1     0 0 0 0;
      0 0 0 0   0 0 0 0     1 1 1 1];
  
beq =[1; 1; 1];

A=[1 0 0 0   1 0 0 0    1 0 0 0;
   0 1 0 0   0 1 0 0    0 1 0 0;
   0 0 1 0   0 0 1 0    0 0 1 0;
   0 0 0 1   0 0 0 1    0 0 0 1];

b=[1; 1; 1; 1];

intcon=[1,2,3,4,5,6,7,8,9,10,11,12];

ub = ones(12,1);

lb = zeros(12,1);
[x,fval] = intlinprog(f,intcon,A,b,Aeq,beq,lb,ub)
%% Solucion:
% x =
%      0
%      0
%      0
%      1
%      0
%      0
%      1
%      0
%      1
%      0
%      0
%      0
% fval =
%     29